---
title: h5移动开发02-流式布局/精灵图
---

# H5移动Web开发02

### 一.流式布局

##### 1.介绍

流式布局是比较常用传统的布局方式，通过对盒子的宽度用百分数的控制

##### 2.移动端现状

移动端面对的移动端的内核、屏幕分辨率的问题

1. 内核
    1. 国产主流手机浏览器，内核 webkit，主要处理CSS兼容目标
2. 分辨率
    1. 手机分辨率：**碎片化太多**
    2. Android：480x800, 480x854, 540x960, 720x1280，1080x1920 等
    3. iPhone：640x960, 640x1136, 750x1334, 1242x2208 等
    4. 2K：手机分辨率
3. 前缀（了解）
    1. 新特性，对各家浏览器更好的兼容，以便以后出了兼容问题，我们可以从这个方向想；
    2. -moz-：代表 firefox 浏览器私有属性
    3. -ms-：代表 ie 浏览器私有属性
    4. -webkit-：代表 safari、chrome 私有属性
    5. -o-：代表 Opera 私有属性

```
-moz-border-radius: 10px; 
-webkit-border-radius: 10px; 
-o-border-radius: 10px; 
border-radius: 10px;
```

- 没有工程化工具，根据业务需要写这些前缀，解决样式的兼容；
- 有工程化工具，注意这些工具包的配置。webpack gulp

##### 3.调试

1. **开发过程中的主要模拟手段**：谷歌浏览器
2. 步骤：
    1. 鼠标右键 检查 或 F12  控制器界面方向
    2. 选择 手机模式
    3. 选择 手机类型及尺寸；调节适当的显示比例
    4. 点右键 查看 页面元素
3. 其他阶段：
    1. 测试内网，真机测试
    2. 外网，即将上线前的真机测试

##### 4.viewport

1. 视口：PC端的页面直接放入手机屏显示，不友好。内容原因没有设置viewport
2. 定义:
    1. 视口：浏览器（PC、移动端）显示页面内容的屏幕区域；不同的屏幕的大小，我们看到的区域也是不同的
    2. viewport就是为了解决上面问题
3. 语法:`<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">`
    1. **width=device-width**：让HTML的宽度 = 屏幕的宽度
    2. user-scalable: 是否允许用户缩放屏幕  值：no(0不允许)   yes(1允许)
    3. initial-scale：初始化缩放比例；1.0：不缩放
    4. maximum-scale：用户对页面的最大缩放比例；值：比例
    5. minimum-scale：用户对页面的最小缩放比例；值：比例

### 二.二倍图

##### 1.屏幕尺寸、物理像素点、屏幕分辨率

* 屏幕尺寸：对角线的长度，绝对单位英寸；
* 物理像素点：客观的发光点，一个物理像素点发一个光的颜色。一个萝卜一个坑；
* 屏幕分辨率：水平和垂直方向上的物理像素点的个数；

##### 2.二倍图由来

* 开始：设置CSS像素200px宽，320分辨率（200坑）,640分辨率（400坑）；这样才显示一样；
* 像针对640分辨率手机屏（iPhone4），要求设计给400*400图，对应我们CSS设置200px,有二倍的关系；
* **命名：**
    - xxxxx@2x.png：二倍图
    - xxxxx@3x.png：三倍图

### 三.background-size

用图片做背景大小，不能设置图片大小，现在学习完二倍图，不设置CSS大小的话，图片按照原来的图片分辨率显示

##### 1.语法:

```css
/* 1.两个参数控制背景图的大小 :按照设置进行显示，有可能失去比例*/
background-size: 500px 100px;
/* 2.一个参数:高度省略，会自适应 */
background-size: 200px;
/* 百分数： 相对于当前盒子的宽度*/
background-size: 100%;
/* cover: 覆盖，绝对不留白 */
background-size: cover;
/* contain：包含，绝对把图显示全*/
background-size: contain; 
```

##### 2.二倍精灵图使用

* 精灵图的使用：**想要测量出符合设计的要求的页面元素大小；**
    * 在FW内：先等比所小图的一半，在缩小的的图内进行图标位置测量；
    * 在代码：引入图，按照刚才的测量，写入图标的坐标；
    * 设置 背景图片大小：按照缩小一半后的宽高 进行 设置的；
    * 千万不要保存图片，否则就会改变二倍图的分辨率；

### 四.css3盒子模型

1. 语法：盒子总宽 = CSS设置width ,border/padding 向内挤

    ```css
    /* 传统：盒子的总宽度 = CSS中设置的 width + border + padding */
    box-sizing: content-box;
    /* CSS3盒子模型:盒子的宽度：就是设置的宽度，且宽度width 里面包含了 border 和 padding */
    box-sizing: border-box;
    ```

    

2. 使用场景:

    1. 左侧固定，右侧随意拉伸
    2. 左右固定，中间随意拉伸

### 五.常见布局:流式布局特点

* 传统布局（流式布局）：
    * 宽度是使用百分比控制
    * 浮动（清除浮动）
* 百分比布局，使用场景比较传统，**通过百分比控制盒子的宽度**

### 六.案例问题

1. dpg：京东自主研发推出DPG图片压缩技术，经测试该技术，可直接节省用户近50%的浏览流量，极大的提升了用户的网页打开速度。全部浏览器的兼容支持，压缩后的图片和webp的清晰度对比没有差距

2. webp：谷歌开发的一种旨在加快图片加载速度的图片格式。图片压缩体积大约只有JPEG的2/3，并能节省大量的服务器宽带资源和数据空间

3. 其他:

    1. 先看这个盒子要不要设置高度,没有高度的时候,一般是靠内部子元素撑起来的

    2. 伪元素:左侧或右侧的线、简单的图标采用伪元素进行设置

    3. 结构伪类选择:n作为参数，一定要放在前面

    4. 清除浮动:

        ```css
        /* 必须指定宽度*/
        div {
           width: 100%;
           overflow: hidden;
        }
        ```

        